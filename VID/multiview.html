<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Multi Live Grid</title>

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
}

.topbar{
  position:fixed;
  top:10px;
  left:10px;
  z-index:9999;
  display:flex;
  gap:10px;
  align-items:center;
  background:rgba(0,0,0,.6);
  padding:8px 12px;
  border-radius:12px;
}

select, button{
  background:#111;
  color:#fff;
  border:1px solid #333;
  border-radius:8px;
  padding:6px 10px;
  cursor:pointer;
}

.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  grid-template-rows:repeat(2,1fr);
  height:100vh;
  gap:4px;
}

.tile{
  position:relative;
  background:#000;
  overflow:hidden;
}

iframe{
  width:100%;
  height:100%;
  border:0;
}

.overlay{
  position:absolute;
  bottom:8px;
  left:8px;
  background:rgba(0,0,0,.6);
  padding:6px 10px;
  border-radius:10px;
  font-size:12px;
}

.tile.fullscreen{
  position:fixed !important;
  inset:0 !important;
  width:100vw !important;
  height:100vh !important;
  z-index:9998 !important;
}
</style>
</head>

<body>

<div class="topbar">
  <label>Layout:</label>
  <select id="layout">
    <option value="2">2×2</option>
    <option value="3">3×3</option>
  </select>
  <button id="exitFs" style="display:none;">Esci Fullscreen</button>
</div>

<div id="grid" class="grid">

  <!-- 1 - Amsterdam Dam Square -->
  <div class="tile">
    <iframe 
      src="https://www.youtube.com/embed/Gd9d4q6WvUY?autoplay=1&mute=1&playsinline=1"
      allow="autoplay; encrypted-media; picture-in-picture"
      allowfullscreen>
    </iframe>
    <div class="overlay">
      Amsterdam - Dam Square <span class="clock"></span>
    </div>
  </div>

  <!-- 2 -->
  <div class="tile">
    <iframe 
      src="https://www.youtube.com/embed/ZnOoxCd7BGU?autoplay=1&mute=1&playsinline=1"
      allow="autoplay; encrypted-media; picture-in-picture"
      allowfullscreen>
    </iframe>
    <div class="overlay">Live 2 <span class="clock"></span></div>
  </div>

  <!-- 3 -->
  <div class="tile">
    <iframe 
      src="https://www.youtube.com/embed/43qH0tDA6lM?autoplay=1&mute=1&playsinline=1"
      allow="autoplay; encrypted-media; picture-in-picture"
      allowfullscreen>
    </iframe>
    <div class="overlay">Live 3 <span class="clock"></span></div>
  </div>

  <!-- 4 -->
  <div class="tile">
    <iframe 
      src="https://www.youtube.com/embed/1phWWCgzXgM?autoplay=1&mute=1&playsinline=1"
      allow="autoplay; encrypted-media; picture-in-picture"
      allowfullscreen>
    </iframe>
    <div class="overlay">Live 4 <span class="clock"></span></div>
  </div>

</div>

<script>
/* ===== OROLOGIO ===== */
function updateClock(){
  const now = new Date();
  const time = now.toLocaleTimeString();
  document.querySelectorAll(".clock").forEach(el=>{
    el.textContent = " " + time;
  });
}
setInterval(updateClock,1000);
updateClock();

/* ===== LAYOUT DINAMICO ===== */
const grid=document.getElementById("grid");
document.getElementById("layout").addEventListener("change",function(){
  const n=this.value;
  grid.style.gridTemplateColumns=`repeat(${n},1fr)`;
  grid.style.gridTemplateRows=`repeat(${n},1fr)`;
});

/* ===== FULLSCREEN ===== */
let fsTile=null;
const exitBtn=document.getElementById("exitFs");

document.querySelectorAll(".tile").forEach(tile=>{
  tile.addEventListener("dblclick",()=>{
    if(tile.classList.contains("fullscreen")){
      tile.classList.remove("fullscreen");
      exitBtn.style.display="none";
      fsTile=null;
    } else {
      document.querySelectorAll(".tile").forEach(t=>t.classList.remove("fullscreen"));
      tile.classList.add("fullscreen");
      exitBtn.style.display="inline-block";
      fsTile=tile;
    }
  });
});

exitBtn.addEventListener("click",()=>{
  if(fsTile){
    fsTile.classList.remove("fullscreen");
    exitBtn.style.display="none";
    fsTile=null;
  }
});

document.addEventListener("keydown",(e)=>{
  if(e.key==="Escape" && fsTile){
    fsTile.classList.remove("fullscreen");
    exitBtn.style.display="none";
    fsTile=null;
  }
});
</script>

</body>
</html>
